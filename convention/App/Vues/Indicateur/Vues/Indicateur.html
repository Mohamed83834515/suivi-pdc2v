<section>
    <section ng-init="InitialiseIndicateur()">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-inverse">
                    <div class="panel-heading">
                        <div class="panel-heading-btn">
                            <a href="javascript:;" title="Afficher" class="btn btn-xs btn-icon btn-circle btn-default"
                                data-click="panel-expand"><i class="fa fa-expand"></i></a>

                            <!-- <!- <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a> -> -->
                        </div>
                        <h4 class="panel-title text-uppercase">Suivi des indicateurs:
                            <label class="text-white f-w-700" ng-repeat="version in ListeConvention"
                                ng-if="version.code_convention == Version">
                                ( {{ version.code_convention + '-' + version.reference }})
                            </label>
                        </h4>
                    </div>
                    <style>
                        .t-grey {
                            font-size: 18px !important;
                            font-weight: 500 !important;
                            color: white !important;
                        }
                    </style>
                    <div class="panel-body">
                        <div class="d-flex bd-highlight mb-3">
                            <!-- <div class="p-2 mr-auto bd-highlight">
                                <select name="" ng-model="numeroAfficher" class="custom-select custom-select-sm">
                                    <option value="5" selected>5</option>
                                    <option value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                            </div> -->
                            <div class="p-2 mr-auto bd-highlight d-flex">
                                <label for="" class="mr-2"> Convention</label>
                                <select class="form-control"
                                    ng-change="ChangeVersion(Version);getActiviteChange(Version);getTauxDecaisserByuserVersion(Version);getTauxDecaisserByuserVersion(Version)"
                                    id="selectElement" placeholder="Type de Piece" name="Version" ng-model="Version"
                                    required
                                    ng-options="TypeBeneficiaire.code_convention  as (TypeBeneficiaire.code_convention + '-' + TypeBeneficiaire.reference) for TypeBeneficiaire in ListeConvention">
                                </select>
                            </div>
                            <div class="p-2 mr-auto bd-highlight d-flex align-items-center">
                                <label for="" style="font-size: 20px;"> Taux d'indicateur. : <label for=""
                                        style="color: #cf0d0d;">{{tauxByIndicateurUser | number:2}}%</label></label>
                            </div>
                            <div class="p-2 bd-highlight">

                                <a class="btn btn-sm btn-outline-success" type="button" data-click="panel-reload"
                                    ng-click="" title="Actualiser" href=""><i class="fa fa-refresh"></i></a>
                            </div>
                            <div class="p-2 bd-highlight">
                                <input type="search" class="form-control form-control-sm"
                                    ng-keyup="myFunction();updateNumeroAfficher()" id="numero" ng-model="numero"
                                    placeholder="recherche">
                            </div>
                        </div>
                        <!-- Button trigger modal -->


                        <!-- Modal -->

                        <table id="" class="table table-striped table-responsive table-bordered">
                            <thead>
                                <tr>
                                    <th width="80">Code </th>
                                    <th width="400">Intitulé de l'activité</th>
                                    <th width="400"> Résultats</th>
                                    <th width="200"> Indicateurs de résultats PTBA</th>
                                    <th width="150">Cible PTBA</th>
                                    <th width="150">Réalisation</th>
                                    <th width="150">Indicateurs</th>
                            </thead>

                            <tbody>
                                <tr class="odd gradeX" ng-repeat="activite in ListeActivite|filter:numero">
                                    <td class="t-grey"
                                        style="color: black !important;font-size: 12px !important; font-weight: 700 !important;">
                                        {{activite.code_activite_convention}}</td>
                                    <td>{{activite.intitule_activite_convention}}</td>
                                    <td>{{getResultatsByConv(activite.code_resultat) | limitTo: 100}}</td>
                                    <td class="text-center">{{getLastIntitule(activite.code_activite_convention)}}</td>
                                    <td class="text-center">{{getLastValeur(activite.code_activite_convention)}}
                                        <!-- <label ng-if="getLastValeur(activite.id_activite_convention) == null">0</label> -->
                                    </td>
                                    <td class="text-center">
                                        {{getValeurRealise(getLastIndicateur(activite.code_activite_convention))}}
                                    </td>
                                    <!-- <td>
                                    <label ng-if="getLastValeur(activite.id_activite_convention) == null">0</label>
                                    {{getValeurRealise(getLastIndicateur(activite.id_activite_convention)) / getLastValeur(activite.id_activite_convention) * 100 | number:1 }} %</td> -->
                                    <td class="text-center">
                                        <label for="" data-toggle="modal" data-target="#exampleModal111"
                                            ng-click="getMyIndicateur(activite.code_activite_convention,activite.id_activite_convention,activite.convention)">
                                            <a href="" ng-if="getTauxRealiser(activite.code_activite_convention) != 0" for="">
                                                <div class="mt-3">
                                                    <div class="progress">
                                                        <div class="progress-bar progress-bar-striped"
                                                            ng-if="getTauxRealiser(activite.code_activite_convention) <= 70"
                                                            role="progressbar" style="background-color: #E79300 !important;"
                                                            ng-style="{ 'width': (getTauxRealiser(activite.code_activite_convention)) + '%' }"
                                                            aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
                                                            <div class="text-center">
                                                                {{getTauxRealiser(activite.code_activite_convention) | number:
                                                                0}} %
                                                            </div>
                                                        </div>
                                                        <div class="progress-bar progress-bar-striped"
                                                            ng-if="getTauxRealiser(activite.code_activite_convention) >= 71"
                                                            role="progressbar" style="background-color: #168E37 !important;"
                                                            ng-style="{ 'width': (getTauxRealiser(activite.code_activite_convention)) + '%' }"
                                                            aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
                                                            <div class="text-center">
                                                                {{getTauxRealiser(activite.code_activite_convention) | number:
                                                                0}} %
                                                            </div>
                                                        </div>
        
                                                    </div>
                                                </div>
                                            </a>
        
                                            <a ng-if="getTauxRealiser(activite.code_activite_convention) == 0" href=""> <i
                                                    class="fas fa-pencil-square-o fa-1x"></i> Suivre</a>
                                        </label>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #168e37 !important;">
                                        <h5 class="modal-title text-white" id="exampleModalLabel">Nouvelle Tâche</h5>
                                        <button type="button" ng-click="InitialiseActivite()" class="close"
                                            data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form name="FormMotif" novalidate>
                                            <div class="row">
                                                <!-- Premier groupe de champs -->
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <!-- <label for="message-text" class="col-form-label">Réalisation {{Motif.CodeTache}}  <span
                                                                  style="color:red;"> *</span></label> -->
                                                        <input type="hidden" class="form-control"
                                                            ng-value="{{Motif.Nlot}}" name="Motif" placeholder="Libelle"
                                                            ng-model="Motif.Nlot" ng-pattern="regexCote" required>
                                                        <input type="hidden" class="form-control"
                                                            ng-value="{{id_activite_ptba_1}}" name="Motif"
                                                            placeholder="Libelle" ng-model="Motif.IdTache"
                                                            ng-pattern="regexCote" required>
                                                        <input type="hidden" class="form-control"
                                                            ng-value="{{Motif.CodeTache}}" name="Motif"
                                                            placeholder="Libelle" ng-model="Motif.CodeTache"
                                                            ng-pattern="regexCote" required>

                                                    </div>
                                                </div>

                                            </div>

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Date
                                                            de suivi<span style="color:red;"> *</span></label>
                                                        <div class="col-lg-9">
                                                            <input class="form-control" ng-model="Motif.DateReelle"
                                                                name="DateReelle" type="date" required
                                                                ng-model-options="{ 'timezone': 'UTC', 'format': 'yyyy-MM-dd' }">
                                                            <span style="color:red;"
                                                                ng-show="FormMotif11.DateReelle.$touched && FormMotif11.DateReelle.$invalid">Champ
                                                                obligatoire ou caractère invalide
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Premier champ textarea : {{Motif.Difficultes}}-->
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Etat
                                                            d'avancement</label>
                                                        <div class="col-lg-9">
                                                            <textarea class="form-control" name="Observation"
                                                                placeholder="Etat d'avancement"
                                                                ng-value="{{Motif.Observation}}"
                                                                ng-model="Motif.Observation" ng-pattern="regexCote"
                                                                required></textarea>
                                                            <span style="color:red;"
                                                                ng-show="FormMotif11.Observation.$touched && FormMotif11.Observation.$invalid">Champ
                                                                obligatoire ou caractère invalide</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Source
                                                            de vérification</label>
                                                        <div class="col-lg-9">
                                                            <input type="file" class="form-control" name="file"
                                                                placeholder="Libelle" id="file">
                                                        </div>
                                                    </div>

                                                </div>
                                                <!-- statut Activité {{Motif.StatutTache}}-->
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Statut
                                                            de l'activité <span style="color:red;"> *</span></label>
                                                        <div class="col-lg-9">
                                                            <select class="form-control" name="selectChoice"
                                                                ng-model="Motif.StatutTache" required>

                                                                <option value="Non déterminé">Non déterminé</option>
                                                                <option value="En cours">En cours</option>
                                                                <option value="Achevé">Achevé</option>
                                                            </select>
                                                            <span style="color:red;"
                                                                ng-show="FormMotif11.selectChoice.$touched && FormMotif11.selectChoice.$invalid">Champ
                                                                obligatoire ou caractère invalide</span>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text"
                                                            class="col-form-label col-lg-3">Difficultés </label>
                                                        <div class="col-lg-9">
                                                            <textarea type="text" class="form-control" cols="100"
                                                                rows="2" name="Motif" placeholder="Difficultés"
                                                                ng-value="Motif.Difficultes"
                                                                ng-model="Motif.Difficultes" ng-pattern="regexCote">
                                                              </textarea>
                                                        </div>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Piste
                                                            de solution </label>
                                                        <div class="col-lg-9">
                                                            <textarea type="text" class="form-control" name="Motif"
                                                                placeholder="Piste de solution"
                                                                ng-model="Motif.PisteSolutions"
                                                                ng-pattern="regexCote"></textarea>
                                                        </div>

                                                    </div>
                                                </div>
                                                <!-- Deuxième champ textarea -->

                                            </div>


                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button name="Valider" value="Valider"
                                            ng-click="ValiderEditionTache(id_activite_ptba_1)" class="btn"
                                            style="background-color: #168e37;color: white;" type="submit">
                                            <i class="fa fa-fw fa-lg fa-check-circle"></i>Valider
                                        </button>

                                        <button data-toggle="modal" data-target="#exampleModal1" class="btn btn-danger"
                                            data-dismiss="modal" aria-label="Close">
                                            <i class="fa fa-fw fa-lg fa-times-circle"></i><span
                                                aria-hidden="true">Annuler</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header"
                                        style="background-color:#168E37; color: white !important;">
                                        <h5 class="modal-title" id="exampleModalLabel">
                                            <label class="text-white text-center" ng-repeat="activite in ListeActivite"
                                                ng-if="id_activite_ptba_1 === activite.id_activite_convention">
                                                {{activite.code_activite_ptba}}: {{activite.intitule_activite_ptba}}
                                            </label>
                                        </h5>
                                        <a href=""
                                            ng-if="showbutton1(id_activite_ptba_1) === 2 || suividata.length === 0"
                                            style="color: white;background-color: black; font-size: 20px; padding: 5px"
                                            ng-click="Motif.IdTache = id_activite_ptba_1" class="btn-sm btn col-lg-2"
                                            data-toggle="modal" data-target="#exampleModal" data-dismiss="modal">
                                            <i class="fas fa-plus-circle"> Nouveau</i>
                                        </a>
                                    </div>
                                    <div class="modal-body">
                                        <table id="" class="table table-striped table-responsive table-bordered">
                                            <thead>
                                                <tr>
                                                    <!-- <th>Code </th> -->
                                                    <th width="130">Statut</th>
                                                    <th>Etat d'avancement</th>
                                                    <th width="110">Date de suivi</th>
                                                    <th>Difficultés</th>
                                                    <th width="130">Action</th>

                                                </tr>
                                            </thead>
                                            <tbody>

                                                <tr class="odd gradeX" ng-repeat="Motif in suividata">
                                                    <!-- <td>{{Motif.code_suivi}} {{Motif.etat}}</td> -->
                                                    <td>{{Motif.statut_activite}}</td>
                                                    <td>{{Motif.observation}}</td>
                                                    <td>{{ Motif.date_suivi | date:'dd/MM/yyyy'}}</td>
                                                    <td>{{ Motif.difficultes_rencontrees}}</td>
                                                    <td>
                                                        <!-- <div ng-repeat="activite in ListeActivite" ng-if="'admin' === nomadmin || activite.executant === nomadmin && Motif.id_activite_ptba === activite.id_activite_convention"> -->
                                                        <div ng-if="Motif.etat != 1">
                                                            <a href="" ng-click="getTacheById(Motif.id_suivi)"
                                                                title="Modifier" data-toggle="modal"
                                                                data-target="#exampleModal3" data-dismiss="modal">
                                                                <i class="fa fa-pencil-square-o mr-2"
                                                                    style="color:#231dd9;font-size: 20px;"></i>
                                                            </a>
                                                            <a href=""
                                                                ng-click="confirmDelete(Motif,id_activite_ptba_1)"
                                                                title="Supprimer">
                                                                <i class="fas fa-trash-alt mr-2"
                                                                    style="color:#cf0d0d;font-size: 20px;"></i>
                                                            </a>
                                                            <label for="" ng-repeat="activite in ListeActivite"
                                                                ng-if="activite.id_activite_convention === Motif.id_activite_ptba">
                                                                <label for="" ng-if="'admin' === nomadmin">
                                                                    <a href=""
                                                                        ng-click="getAlertValidationTache(Motif.id_suivi,Motif.id_activite_ptba)"
                                                                        title="Valider"> <i
                                                                            class="fas fa-check-circle fa-2x"></i> </a>
                                                                </label>
                                                            </label>
                                                        </div>
                                                        <!-- </div>     -->
                                                        <div ng-if="Motif.etat == 1">
                                                            <label>
                                                                <i class="fas fa-check mr-2"
                                                                    style="color:#168E37;font-size: 20px;"
                                                                    aria-hidden="true"> validée</i>
                                                            </label>
                                                        </div>

                                                    </td>

                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="modal-footer">
                                        <!-- <button type="button" class="btn btn-seocndary"
                                          data-dismiss="modal">Close</button> -->
                                        <button type="button" style="background-color: #168E37; color: white;"
                                            data-dismiss="modal" class="btn"> <i class="fas fa-close"> </i>
                                            Fermer</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #168e37 !important;">
                                        <h5 class="modal-title text-white" id="exampleModalLabel">Modification Tâche
                                        </h5>
                                        <button type="button" ng-click="InitialiseActivite()" class="close"
                                            data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form name="FormMotif" novalidate>
                                            <div class="row">
                                                <!-- Premier groupe de champs -->
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <!-- <label for="message-text" class="col-form-label">Réalisation {{Motif.CodeTache}}  <span
                                                              style="color:red;"> *</span></label> -->
                                                        <input type="hidden" class="form-control"
                                                            ng-value="{{Motif.Nlot}}" name="Motif" placeholder="Libelle"
                                                            ng-model="Motif.Nlot" ng-pattern="regexCote" required>
                                                        <input type="hidden" class="form-control"
                                                            ng-value="{{id_activite_ptba_1}}" name="Motif"
                                                            placeholder="Libelle" ng-model="Motif.IdTache"
                                                            ng-pattern="regexCote" required>
                                                        <input type="hidden" class="form-control"
                                                            ng-value="{{Motif.CodeTache}}" name="Motif"
                                                            placeholder="Libelle" ng-model="Motif.CodeTache"
                                                            ng-pattern="regexCote" required>

                                                    </div>
                                                </div>

                                            </div>
                                            <style>
                                                .row>[class^="col-"] {
                                                    margin-bottom: -5px;
                                                }
                                            </style>
                                            <div class="row">
                                                <!-- Premier champ textarea : {{Motif.Difficultes}}-->
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Date
                                                            de suivi<span style="color:red;"> *</span></label>
                                                        <div class="col-lg-9">
                                                            <input class="form-control no-placeholder"
                                                                ng-model="Motif.DateReelle" type="text" required
                                                                ng-value="{{Motif.DateReelle}}"
                                                                ng-model-options="{ 'timezone': 'UTC', 'format': 'yyyy-MM-dd' }">
                                                            <span style="color:red;"
                                                                ng-show="FormMotif.Motif.$dirty && FormMotif.Motif.$invalid">Champ
                                                                obligatoire ou caractère invalide
                                                            </span>
                                                        </div>
                                                    </div>

                                                </div>
                                                <!-- Deuxième champ textarea -->
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Etat
                                                            d'avancement</label>
                                                        <div class="col-lg-9">
                                                            <textarea class="form-control" name="Motif"
                                                                placeholder="Libelle" ng-value="{{Motif.Observation}}"
                                                                ng-model="Motif.Observation" ng-pattern="regexCote"
                                                                required></textarea>

                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Source
                                                            de vérification</label>
                                                        <div class="col-lg-9">
                                                            <input type="file" class="form-control" name="file12"
                                                                placeholder="Libelle" id="file12" required>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Statut
                                                            de l'activité <span style="color:red;"> *</span></label>
                                                        <div class="col-lg-9">
                                                            <select class="form-control" name="selectChoice"
                                                                ng-model="Motif.StatutTache" required>

                                                                <option value="Non déterminé">Non déterminé</option>
                                                                <option value="En cours">En cours</option>
                                                                <option value="Achevé">Achevé</option>
                                                            </select>
                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text"
                                                            class="col-form-label col-lg-3">Difficultés </label>
                                                        <div class="col-lg-9">
                                                            <textarea type="text" class="form-control" cols="100"
                                                                rows="2" name="Motif" placeholder="Libelle"
                                                                ng-value="Motif.Difficultes"
                                                                ng-model="Motif.Difficultes" ng-pattern="regexCote"
                                                                required>
                                                          </textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <label for="message-text" class="col-form-label col-lg-3">Piste
                                                            de solution </label>
                                                        <div class="col-lg-9">
                                                            <textarea type="text" class="form-control" name="Motif"
                                                                placeholder="Libelle" ng-model="Motif.PisteSolutions"
                                                                ng-pattern="regexCote" required>
                                                          </textarea>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>


                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button name="Valider" value="Valider"
                                            ng-click="validerHistorique(Motif.IdTache)" class="btn text-white"
                                            style="background-color: #168e37;" type="submit">
                                            <i class="fa fa-fw fa-lg fa-check-circle"></i>Valider
                                        </button>

                                        <button data-toggle="modal" data-target="#exampleModal1" class="btn btn-danger"
                                            data-dismiss="modal" aria-label="Close">
                                            <i class="fa fa-fw fa-lg fa-times-circle"></i><span
                                                aria-hidden="true">Annuler</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="exampleModal111" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header"
                                        style="background-color:#168E37; color: white !important;">
                                        <h5 class="modal-title" id="exampleModalLabel">
                                            <label class="text-white text-center" ng-repeat="activite in ListeActivite"
                                                ng-if="id_activite_ptba_3 === activite.id_activite_convention">
                                                {{activite.code_activite_ptba}}: {{activite.intitule_activite_ptba}}
                                            </label>
                                        </h5>
                                        <!-- ng-if="showbutton1(myindicateur) === 2 || suividata.length === 0" -->
                                        <!-- <a href="" style="color: white;background-color: black; font-size: 20px; padding: 5px" ng-click="InitialiseDashboardG();Motif.IdTache = myindicateur" class="btn-sm btn col-lg-2"  data-toggle="modal" data-target="#exampleModalll" data-dismiss="modal">
                                              <i class="fas fa-plus-circle"> Nouveau</i> 
                                        </a>  -->
                                    </div>
                                    <div class="modal-body">
                                        <table id="" class="table table-striped table-responsive table-bordered">
                                            <thead>
                                                <tr>
                                                    <!-- <th>Code </th> -->
                                                    <th width="300">Indicateurs Activités</th>
                                                    <th width="120">Valeur cible</th>
                                                    <th width="120">Valeur Réalisée</th>
                                                    <th width="160">Taux de Réalisation</th>
                                                    <th width="120">Action</th>

                                                </tr>
                                            </thead>
                                            <tbody>

                                                <tr class="odd gradeX" ng-repeat="indication in indicateurs">
                                                    <td>{{indication.intitule_indicateur_convention}}</td>
                                                    <td>{{indication.valeur_cible}}</td>
                                                    <td>{{getValeurRealise(indication.id_activite_convention)}}</td>
                                                    <td>{{getValeurRealise(indication.id_activite_convention) /
                                                        indication.valeur_cible * 100 | number:2 }} % </td>
                                                    <td>
                                                        <div ng-if="indication.statut != 1 && indication.statut != 2">
                                                            <a href=""
                                                                ng-click="getIndicateurById(indication.id_activite_convention,indication.valeur_cible,indication.code_activite)"
                                                                data-toggle="modal" data-target="#exampleModalll"
                                                                data-dismiss="modal" title="Ajouter">
                                                                <i class="fas fa-plus-circle"
                                                                    style="color:#E79300;font-size: 20px;"></i>
                                                            </a>
                                                            <!-- <label for="" ng-repeat="activite in ListeActivite"
                                                        ng-if="activite.code_activite_convention === indication.code_activite">
                                                        <label for="" ng-if="'admin' === nom1">
                                                            <a href="" title="Valider"
                                                                ng-click="getAlertValidationIndicateur(indication.id_activite_convention,indication.code_activite,1)">
                                                                <i class="fas fa-check-circle"
                                                                    style="font-size: 20px;"></i> </a>
                                                        </label>
                                                    </label> -->
                                                        </div>
                                                        <div ng-if="indication.statut == 2">
                                                            <label>
                                                                <i class="fas fa-check mr-2"
                                                                    style="color:#168E37;font-size: 20px;"
                                                                    aria-hidden="true">
                                                                    validée par le SSE
                                                                </i>
                                                            </label>
                                                        </div>
                                                        <!-- </div> -->
                                                        <div ng-if="indication.statut == 1">
                                                            <label>
                                                                <i class="fas fa-check mr-2"
                                                                    style="color:#168E37;font-size: 20px;"
                                                                    aria-hidden="true">
                                                                    validée
                                                                </i>
                                                            </label>
                                                            <!-- <label for="" ng-repeat="activite in ListeActivite"
                                                        ng-if="activite.id_activite_convention === indication.id_activite_convention">
                                                        <label for="" ng-if="'admin' === nom1">
                                                            <a href="" title="Annuler" style="color:#cf0d0d;"
                                                                ng-click="getAlertValidationIndicateur(indication.id_activite_convention,indication.id_activite_convention,0)">
                                                                <i class="fas fa-times fa-2x"></i> </a>
                                                        </label>
                                                    </label> -->
                                                        </div>

                                                    </td>

                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="modal-footer">
                                        <button data-dismiss="modal" aria-label="Close"
                                            style="background-color: #168e37 !important;" class="btn text-white"
                                            type="submit">
                                            <i class="fa fa-fw fa-lg fa-times-circle"></i>Fermer
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="exampleModalll" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #168e37 !important;">
                                        <h5 class="modal-title text-white" id="exampleModalLabel">
                                            <label class="text-white text-center" ng-repeat="activite in indicateurs"
                                                ng-if="Motif.id_indicateur === activite.id_indicateur_tache">
                                                {{activite.intitule_indicateur_tache}} <span
                                                    style="color: black; font-family: 'Times New Roman', Times, serif;">(Valeur
                                                    cible: <label for="" style="color: red; font-size: 16px;">
                                                        {{TotalValeurcible}}</label> )</span>
                                            </label>
                                        </h5>
                                        <button type="button" ng-click="InitialiseActivite()" class="close"
                                            data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form name="FormMotif" novalidate>

                                            <div class="">
                                                <!-- Deuxième champ textarea -->

                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <div class="col-lg-9">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                type="hidden" name="ObservationGenerale"
                                                                ng-model="Motif.id_indicateur" ng-pattern="regexCote">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <div class="col-lg-1" ng-show=" 1 <= getMonthActuelle()"></div>
                                                        <label for="message-text" ng-show=" 1 <= getMonthActuelle()"
                                                            class="col-form-label text-al col-lg-2 fas fa-check-circle">
                                                            Janvier
                                                        </label>
                                                        <!-- <div class="col-lg-6"></div>  -->
                                                        <div class="col-lg-3" ng-show=" 1 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="text"
                                                                ng-model="Motif.valeur_cible1" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                        <div class="col-lg-1"></div>
                                                        <label ng-show=" 2 <= getMonthActuelle()" for="message-text"
                                                            class="col-form-label text-al col-lg-2 fas fa-check-circle">
                                                            Février
                                                        </label>
                                                        <!-- <div class="col-lg-6"></div>  -->
                                                        <div class="col-lg-3" ng-show=" 2 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="text"
                                                                ng-model="Motif.valeur_cible2" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                    </div>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible1 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible2 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                </div>
                                                <style>
                                                    .text-al {
                                                        text-align: right;
                                                    }
                                                </style>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <div class="col-lg-1" ng-show=" 3 <= getMonthActuelle()"></div>
                                                        <label for="message-text" ng-show=" 3 <= getMonthActuelle()"
                                                            class="col-form-label text-al col-lg-2 fas fa-check-circle">
                                                            Mars
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 3 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="text"
                                                                ng-model="Motif.valeur_cible3" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                        <div class="col-lg-1"></div>
                                                        <label for="message-text" ng-show=" 4 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-2 text-al fas fa-check-circle">
                                                            Avril
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 4 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="text"
                                                                ng-model="Motif.valeur_cible4" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                    </div>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible3 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible4 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <div class="col-lg-1" ng-show=" 5 <= getMonthActuelle()"></div>
                                                        <label for="message-text" ng-show=" 5 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-2 text-al fas fa-check-circle">
                                                            Mai
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 5 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible5" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                        <div class="col-lg-1"></div>
                                                        <label for="message-text" ng-show=" 6 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-2 text-al fas fa-check-circle">
                                                            Juin
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 6 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible6" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                    </div>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible5 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible6 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <div class="col-lg-1" ng-show=" 7 <= getMonthActuelle()"></div>
                                                        <label for="message-text" ng-show=" 7 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-2 text-al fas fa-check-circle">
                                                            Juillet
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 7 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible7" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                        <div class="col-lg-1"></div>
                                                        <label for="message-text" ng-show=" 8 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-2 text-al fas fa-check-circle">
                                                            Août
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 8 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible8" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                    </div>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible7 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible8 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <!-- <div class="col-lg-1"></div> -->
                                                        <label for="message-text" ng-show=" 9 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-3 text-al fas fa-check-circle">
                                                            Septembre </label>
                                                        <div class="col-lg-3" ng-show=" 9 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="text"
                                                                ng-model="Motif.valeur_cible9" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                        <!-- <div class="col-lg-1"></div> -->
                                                        <label for="message-text" ng-show=" 10 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-3 text-al fas fa-check-circle">
                                                            Octobre
                                                        </label>
                                                        <div class="col-lg-3" ng-show=" 10 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible10" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                    </div>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible9 < 0">la valeur
                                                        doit être > ou = 0</label>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible10 < 0">la
                                                        valeur doit être > ou = 0</label>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group row">
                                                        <!-- <div class="col-lg-1"></div> -->
                                                        <label for="message-text" ng-show=" 11 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-3 text-al fas fa-check-circle">
                                                            Novembre </label>
                                                        <div class="col-lg-3" ng-show=" 11 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible11" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                        <!-- <div class="col-lg-1"></div> -->
                                                        <label for="message-text" ng-show=" 12 <= getMonthActuelle()"
                                                            class="col-form-label col-lg-3 text-al fas fa-check-circle">
                                                            Decembre </label>
                                                        <div class="col-lg-3" ng-show=" 12 <= getMonthActuelle()">
                                                            <input
                                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                                name="ObservationGenerale" type="texttext"
                                                                ng-model="Motif.valeur_cible12" ng-pattern="regexCote"
                                                                required>
                                                        </div>
                                                    </div>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible11 < 0">la
                                                        valeur doit être > ou = 0</label>
                                                    <label class="text-danger" ng-if="Motif.valeur_cible12 < 0">la
                                                        valeur doit être > ou = 0</label>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button name="Valider" value="Valider"
                                            ng-disabled="Motif.valeur_cible1 < 0 || Motif.valeur_cible2 < 0 || Motif.valeur_cible3 < 0 || Motif.valeur_cible4 < 0 || Motif.valeur_cible5 < 0 || Motif.valeur_cible6 < 0 || Motif.valeur_cible7 < 0 || Motif.valeur_cible8 < 0 || Motif.valeur_cible9 < 0 || Motif.valeur_cible10 < 0 || Motif.valeur_cible11 < 0 || Motif.valeur_cible12 < 0"
                                            ng-click="ValiderEditionTache2(alertID,TotalValeurcible,id_activite_ptba_indicateur)"
                                            style="background-color: #168e37 !important;" class="btn text-white"
                                            type="submit">
                                            <i class="fa fa-fw fa-lg fa-check-circle"></i>Valider
                                        </button>

                                        <button class="btn btn-danger" data-dismiss="modal" data-toggle="modal"
                                            data-target="#exampleModal111" aria-label="Close">
                                            <i class="fa fa-fw fa-lg fa-times-circle"></i><span
                                                aria-hidden="true">Annuler</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="d-flex bd-highlight" ng-show="ListeActivite.length > 0">
                            <div class="p-2 bd-highlight ml-auto">
                                <dir-pagination-controls on-page-change="pageChangeHandler(newPageNumber)" max-size="5"
                                    direction-links="true" boundary-links="true"></dir-pagination-controls>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
    </section>
</section>